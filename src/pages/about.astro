---
// layout imports
import MainLayout from '../layouts/MainLayout.astro';

// component imports
import Card from '../components/Card.astro';

export interface quote {
  id: number;
  quote: string;
  author: string;
}
---

<MainLayout title="About:: Welcome to Astro.">
  <main>
    <h1>About</h1>
    <p>
      Web Developer, Technical Director, Project Manager, Department Head, Application Developer, Creative Director, Designer, IT Support, Server Admin, Database Admin, Marketing Director, Content Writer, Search Engine Optimization Consultant, Nay-sayer and Soapbox Speaker.
    </p>
    <p>
      What I enjoy the most is freeing clients and designers from the confines of technology.
    </p>
    <p>
      Specialties: Client-side, Server-side and Database application programming with a focus on content managed web sites and applications... oh! and ASTRO of course.
    </p>
    <!-- Add id to Card for JavaScript targeting -->
    <div id="quote-container">
      <Card>
        <h3 id="quote-text">Loading...</h3>
        <div id="quote-attribution" class="quote-attribution">- </div>
      </Card>
    </div>
    <p>
      <a href="#">Page Link here</a>
    </p>
  </main>
</MainLayout>
<style lang+"scss">
  h3 {
    text-align: center;
  }
  .quote-attribution {
    text-align: right;
  }
</style>

<script>
  async function fetchRandomQuote() {
    try {
      const response = await fetch('https://dummyjson.com/quotes/random');
      const quote = await response.json();
      
      document.getElementById('quote-text').textContent = quote.quote;
      document.getElementById('quote-attribution').textContent = `- ${quote.author}`;
    } catch (error) {
      console.error('Error fetching quote:', error);
      document.getElementById('quote-text').textContent = 'Failed to load quote';
    }
  }

  // Fetch on page load
  fetchRandomQuote();
</script>